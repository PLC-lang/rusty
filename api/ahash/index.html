<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="AHash is a high performance keyed hash function."><title>ahash - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="ahash" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0 (90c541806 2023-05-31)" data-search-js="search-e077946657036a58.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-7bfb4c59cc6bc502.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f61008743c98d196.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../ahash/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../ahash/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate ahash</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.8.3</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">ahash</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/ahash/lib.rs.html#1-397">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>AHash is a high performance keyed hash function.</p>
<p>It quickly provides a high quality hash where the result is not predictable without knowing the Key.
AHash works with <code>HashMap</code> to hash keys, but without allowing for the possibility that an malicious user can
induce a collision.</p>
<h2 id="how-ahash-works"><a href="#how-ahash-works">How aHash works</a></h2>
<p>When it is available aHash uses the hardware AES instructions to provide a keyed hash function.
When it is not, aHash falls back on a slightly slower alternative algorithm.</p>
<p>Because aHash does not have a fixed standard for its output, it is able to improve over time.
But this also means that different computers or computers using different versions of ahash may observe different
hash values for the same input.</p>
<h2 id="basic-usage"><a href="#basic-usage">Basic Usage</a></h2>
<p>AHash provides an implementation of the <a href="https://doc.rust-lang.org/1.70.0/core/hash/trait.Hasher.html" title="trait core::hash::Hasher">Hasher</a> trait.
To construct a HashMap using aHash as its hasher do the following:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ahash::{AHasher, RandomState};
<span class="kw">use </span>std::collections::HashMap;

<span class="kw">let </span><span class="kw-2">mut </span>map: HashMap&lt;i32, i32, RandomState&gt; = HashMap::default();
map.insert(<span class="number">12</span>, <span class="number">34</span>);</code></pre></div>
<h4 id="randomness"><a href="#randomness">Randomness</a></h4>
<p>The above requires a source of randomness to generate keys for the hashmap. By default this obtained from the OS.
It is also possible to have randomness supplied via the <code>compile-time-rng</code> flag, or manually.</p>
<h4 id="if-randomess-is-not-available"><a href="#if-randomess-is-not-available">If randomess is not available</a></h4>
<p><a href="struct.AHasher.html#method.default" title="associated function ahash::AHasher::default">AHasher::default()</a> can be used to hash using fixed keys. This works with
<a href="https://doc.rust-lang.org/1.70.0/core/hash/struct.BuildHasherDefault.html" title="struct core::hash::BuildHasherDefault">BuildHasherDefault</a>. For example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::hash::BuildHasherDefault;
<span class="kw">use </span>std::collections::HashMap;
<span class="kw">use </span>ahash::AHasher;

<span class="kw">let </span><span class="kw-2">mut </span>m: HashMap&lt;<span class="kw">_</span>, <span class="kw">_</span>, BuildHasherDefault&lt;AHasher&gt;&gt; = HashMap::default();</code></pre></div>
<p>It is also possible to instantiate <a href="random_state/struct.RandomState.html" title="struct ahash::random_state::RandomState">RandomState</a> directly:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ahash::HashMap;
<span class="kw">use </span>ahash::RandomState;

<span class="kw">let </span><span class="kw-2">mut </span>m = HashMap::with_hasher(RandomState::with_seed(<span class="number">42</span>));</code></pre></div>
<p>Or for uses besides a hashhmap:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::hash::BuildHasher;
<span class="kw">use </span>ahash::RandomState;

<span class="kw">let </span>hash_builder = RandomState::with_seed(<span class="number">42</span>);
<span class="kw">let </span>hash = hash_builder.hash_one(<span class="string">&quot;Some Data&quot;</span>);</code></pre></div>
<p>There are several constructors for <a href="random_state/struct.RandomState.html" title="struct ahash::random_state::RandomState">RandomState</a> with different ways to supply seeds.</p>
<h2 id="convenience-wrappers"><a href="#convenience-wrappers">Convenience wrappers</a></h2>
<p>For convenience, both new-type wrappers and type aliases are provided.</p>
<p>The new type wrappers are called called <code>AHashMap</code> and <code>AHashSet</code>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ahash::AHashMap;

<span class="kw">let </span><span class="kw-2">mut </span>map: AHashMap&lt;i32, i32&gt; = AHashMap::new();
map.insert(<span class="number">12</span>, <span class="number">34</span>);</code></pre></div>
<p>This avoids the need to type “RandomState”. (For convience <code>From</code>, <code>Into</code>, and <code>Deref</code> are provided).</p>
<h2 id="aliases"><a href="#aliases">Aliases</a></h2>
<p>For even less typing and better interop with existing libraries (such as rayon) which require a <code>std::collection::HashMap</code> ,
the type aliases <a href="type.HashMap.html" title="type ahash::HashMap">HashMap</a>, <a href="type.HashSet.html" title="type ahash::HashSet">HashSet</a> are provided.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ahash::{HashMap, HashMapExt};

<span class="kw">let </span><span class="kw-2">mut </span>map: HashMap&lt;i32, i32&gt; = HashMap::new();
map.insert(<span class="number">12</span>, <span class="number">34</span>);</code></pre></div>
<p>Note the import of <a href="trait.HashMapExt.html" title="trait ahash::HashMapExt">HashMapExt</a>. This is needed for the constructor.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.RandomState"><code>pub use crate::random_state::<a class="struct" href="random_state/struct.RandomState.html" title="struct ahash::random_state::RandomState">RandomState</a>;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="random_state/index.html" title="mod ahash::random_state">random_state</a></div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AHashMap.html" title="struct ahash::AHashMap">AHashMap</a></div><div class="desc docblock-short">A <a href="https://doc.rust-lang.org/1.70.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap"><code>HashMap</code></a> using <a href="random_state/struct.RandomState.html" title="struct ahash::random_state::RandomState"><code>RandomState</code></a> to hash the items.
(Requires the <code>std</code> feature to be enabled.)</div></li><li><div class="item-name"><a class="struct" href="struct.AHashSet.html" title="struct ahash::AHashSet">AHashSet</a></div><div class="desc docblock-short">A <a href="https://doc.rust-lang.org/1.70.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet"><code>HashSet</code></a> using <a href="random_state/struct.RandomState.html" title="struct ahash::random_state::RandomState"><code>RandomState</code></a> to hash the items.
(Requires the <code>std</code> feature to be enabled.)</div></li><li><div class="item-name"><a class="struct" href="struct.AHasher.html" title="struct ahash::AHasher">AHasher</a></div><div class="desc docblock-short">A <code>Hasher</code> for hashing an arbitrary stream of bytes.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.HashMapExt.html" title="trait ahash::HashMapExt">HashMapExt</a></div><div class="desc docblock-short">A convenience trait that can be used together with the type aliases defined to
get access to the <code>new()</code> and <code>with_capacity()</code> methods for the HashMap type alias.</div></li><li><div class="item-name"><a class="trait" href="trait.HashSetExt.html" title="trait ahash::HashSetExt">HashSetExt</a></div><div class="desc docblock-short">A convenience trait that can be used together with the type aliases defined to
get access to the <code>new()</code> and <code>with_capacity()</code> methods for the HashSet type aliases.</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.HashMap.html" title="type ahash::HashMap">HashMap</a></div><div class="desc docblock-short">Type alias for <a href="https://doc.rust-lang.org/1.70.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;K, V, ahash::RandomState&gt;</div></li><li><div class="item-name"><a class="type" href="type.HashSet.html" title="type ahash::HashSet">HashSet</a></div><div class="desc docblock-short">Type alias for <a href="type.HashSet.html" title="type ahash::HashSet">HashSet</a>&lt;K, ahash::RandomState&gt;</div></li></ul></section></div></main></body></html>