<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Splits command line into separate arguments, in much the same way Unix shell would, but without many of expansion the shell would perform."><meta name="keywords" content="rust, rustlang, rust-lang, split"><title>split in shell_words - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../shell_words/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../shell_words/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><div class="sidebar-elems"><h2 class="location"><a href="index.html">In shell_words</a></h2><div id="sidebar-vars" data-name="split" data-ty="fn" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../shell_words/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Function <a href="index.html">shell_words</a>::<wbr><a class="fn" href="#">split</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/shell_words/lib.rs.html#126-229">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust fn"><code>pub fn split(s: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.60.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.60.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.60.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;, <a class="struct" href="struct.ParseError.html" title="struct shell_words::ParseError">ParseError</a>&gt;</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Splits command line into separate arguments, in much the same way Unix shell
would, but without many of expansion the shell would perform.</p>
<p>The split functionality is compatible with behaviour of Unix shell, but with
word expansions limited to quote removal, and without special token
recognition rules for operators.</p>
<p>The result is exactly the same as one obtained from Unix shell as long as
those unsupported features are not present in input: no operators, no
variable assignments, no tilde expansion, no parameter expansion, no command
substitution, no arithmetic expansion, no pathname expansion.</p>
<p>In case those unsupported shell features are present, the syntax that
introduce them is interpreted literally.</p>
<h2 id="errors"><a href="#errors">Errors</a></h2>
<p>When input contains unmatched quote, an error is returned.</p>
<h2 id="compatibility-with-other-implementations"><a href="#compatibility-with-other-implementations">Compatibility with other implementations</a></h2>
<p>It should be fully compatible with g_shell_parse_argv from GLib, except that
in GLib it is an error not to have any words after tokenization.</p>
<p>It is also very close to shlex.split available in Python standard library,
when used in POSIX mode with support for comments. Though, shlex
implementation diverges from POSIX, and from implementation contained herein
in three aspects. First, it doesn’t support line continuations.
Second, inside double quotes, the backslash characters retains its special
meaning as an escape character only when followed by \ or &quot;, whereas POSIX
specifies that it should retain its special meaning when followed by: $, `,
&quot;, \, or a newline. Third, it treats carriage return as one of delimiters.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Building an executable using compiler obtained from CC environment variable
and compiler flags from both CFLAGS and CPPFLAGS. Similar to default build
rule for C used in GNU Make:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::env::var</span>;
<span class="kw">use</span> <span class="ident">std::process::Command</span>;

<span class="kw">let</span> <span class="ident">cc</span> <span class="op">=</span> <span class="ident">var</span>(<span class="string">&quot;CC&quot;</span>).<span class="ident">unwrap_or_else</span>(<span class="op">|</span><span class="kw">_</span><span class="op">|</span> <span class="string">&quot;cc&quot;</span>.<span class="ident">to_owned</span>());

<span class="kw">let</span> <span class="ident">cflags_str</span> <span class="op">=</span> <span class="ident">var</span>(<span class="string">&quot;CFLAGS&quot;</span>).<span class="ident">unwrap_or_else</span>(<span class="op">|</span><span class="kw">_</span><span class="op">|</span> <span class="ident">String::new</span>());
<span class="kw">let</span> <span class="ident">cflags</span> <span class="op">=</span> <span class="ident">shell_words::split</span>(<span class="kw-2">&amp;</span><span class="ident">cflags_str</span>).<span class="ident">expect</span>(<span class="string">&quot;failed to parse CFLAGS&quot;</span>);

<span class="kw">let</span> <span class="ident">cppflags_str</span> <span class="op">=</span> <span class="ident">var</span>(<span class="string">&quot;CPPFLAGS&quot;</span>).<span class="ident">unwrap_or_else</span>(<span class="op">|</span><span class="kw">_</span><span class="op">|</span> <span class="ident">String::new</span>());
<span class="kw">let</span> <span class="ident">cppflags</span> <span class="op">=</span> <span class="ident">shell_words::split</span>(<span class="kw-2">&amp;</span><span class="ident">cppflags_str</span>).<span class="ident">expect</span>(<span class="string">&quot;failed to parse CPPFLAGS&quot;</span>);

<span class="ident">Command::new</span>(<span class="ident">cc</span>)
    .<span class="ident">args</span>(<span class="ident">cflags</span>)
    .<span class="ident">args</span>(<span class="ident">cppflags</span>)
    .<span class="ident">args</span>(<span class="kw-2">&amp;</span>[<span class="string">&quot;-c&quot;</span>, <span class="string">&quot;a.c&quot;</span>, <span class="string">&quot;-o&quot;</span>, <span class="string">&quot;a.out&quot;</span>])
    .<span class="ident">spawn</span>()
    .<span class="ident">expect</span>(<span class="string">&quot;failed to start subprocess&quot;</span>)
    .<span class="ident">wait</span>()
    .<span class="ident">expect</span>(<span class="string">&quot;failed to wait for subprocess&quot;</span>);</code></pre></div>
</div></details></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="shell_words" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0 (7737e0b5c 2022-04-04)" ></div>
</body></html>