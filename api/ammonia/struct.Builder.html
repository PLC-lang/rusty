<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An HTML sanitizer."><title>Builder in ammonia - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-aa0817cf.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="ammonia" data-themes="" data-resource-suffix="" data-rustdoc-version="1.90.0 (1159e78c4 2025-09-14)" data-channel="1.90.0" data-search-js="search-fa3e91e5.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-68b7e25d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-eebb9057.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../ammonia/index.html">ammonia</a><span class="version">4.1.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Builder</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#examples" title="Examples">Examples</a></li><li><a href="#panics" title="Panics">Panics</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.add_allowed_classes" title="add_allowed_classes">add_allowed_classes</a></li><li><a href="#method.add_clean_content_tags" title="add_clean_content_tags">add_clean_content_tags</a></li><li><a href="#method.add_generic_attribute_prefixes" title="add_generic_attribute_prefixes">add_generic_attribute_prefixes</a></li><li><a href="#method.add_generic_attributes" title="add_generic_attributes">add_generic_attributes</a></li><li><a href="#method.add_tag_attribute_values" title="add_tag_attribute_values">add_tag_attribute_values</a></li><li><a href="#method.add_tag_attributes" title="add_tag_attributes">add_tag_attributes</a></li><li><a href="#method.add_tags" title="add_tags">add_tags</a></li><li><a href="#method.add_url_schemes" title="add_url_schemes">add_url_schemes</a></li><li><a href="#method.allowed_classes" title="allowed_classes">allowed_classes</a></li><li><a href="#method.attribute_filter" title="attribute_filter">attribute_filter</a></li><li><a href="#method.clean" title="clean">clean</a></li><li><a href="#method.clean_content_tags" title="clean_content_tags">clean_content_tags</a></li><li><a href="#method.clean_from_reader" title="clean_from_reader">clean_from_reader</a></li><li><a href="#method.clone_allowed_classes" title="clone_allowed_classes">clone_allowed_classes</a></li><li><a href="#method.clone_clean_content_tags" title="clone_clean_content_tags">clone_clean_content_tags</a></li><li><a href="#method.clone_generic_attribute_prefixes" title="clone_generic_attribute_prefixes">clone_generic_attribute_prefixes</a></li><li><a href="#method.clone_generic_attributes" title="clone_generic_attributes">clone_generic_attributes</a></li><li><a href="#method.clone_set_tag_attribute_values" title="clone_set_tag_attribute_values">clone_set_tag_attribute_values</a></li><li><a href="#method.clone_tag_attribute_values" title="clone_tag_attribute_values">clone_tag_attribute_values</a></li><li><a href="#method.clone_tag_attributes" title="clone_tag_attributes">clone_tag_attributes</a></li><li><a href="#method.clone_tags" title="clone_tags">clone_tags</a></li><li><a href="#method.clone_url_schemes" title="clone_url_schemes">clone_url_schemes</a></li><li><a href="#method.empty" title="empty">empty</a></li><li><a href="#method.filter_style_properties" title="filter_style_properties">filter_style_properties</a></li><li><a href="#method.generic_attribute_prefixes" title="generic_attribute_prefixes">generic_attribute_prefixes</a></li><li><a href="#method.generic_attributes" title="generic_attributes">generic_attributes</a></li><li><a href="#method.get_link_rel" title="get_link_rel">get_link_rel</a></li><li><a href="#method.get_set_tag_attribute_value" title="get_set_tag_attribute_value">get_set_tag_attribute_value</a></li><li><a href="#method.id_prefix" title="id_prefix">id_prefix</a></li><li><a href="#method.is_url_relative_custom" title="is_url_relative_custom">is_url_relative_custom</a></li><li><a href="#method.is_url_relative_deny" title="is_url_relative_deny">is_url_relative_deny</a></li><li><a href="#method.is_url_relative_pass_through" title="is_url_relative_pass_through">is_url_relative_pass_through</a></li><li><a href="#method.link_rel" title="link_rel">link_rel</a></li><li><a href="#method.new" title="new">new</a></li><li><a href="#method.rm_allowed_classes" title="rm_allowed_classes">rm_allowed_classes</a></li><li><a href="#method.rm_clean_content_tags" title="rm_clean_content_tags">rm_clean_content_tags</a></li><li><a href="#method.rm_generic_attribute_prefixes" title="rm_generic_attribute_prefixes">rm_generic_attribute_prefixes</a></li><li><a href="#method.rm_generic_attributes" title="rm_generic_attributes">rm_generic_attributes</a></li><li><a href="#method.rm_set_tag_attribute_value" title="rm_set_tag_attribute_value">rm_set_tag_attribute_value</a></li><li><a href="#method.rm_tag_attribute_values" title="rm_tag_attribute_values">rm_tag_attribute_values</a></li><li><a href="#method.rm_tag_attributes" title="rm_tag_attributes">rm_tag_attributes</a></li><li><a href="#method.rm_tags" title="rm_tags">rm_tags</a></li><li><a href="#method.rm_url_schemes" title="rm_url_schemes">rm_url_schemes</a></li><li><a href="#method.set_tag_attribute_value" title="set_tag_attribute_value">set_tag_attribute_value</a></li><li><a href="#method.set_tag_attribute_values" title="set_tag_attribute_values">set_tag_attribute_values</a></li><li><a href="#method.strip_comments" title="strip_comments">strip_comments</a></li><li><a href="#method.tag_attribute_values" title="tag_attribute_values">tag_attribute_values</a></li><li><a href="#method.tag_attributes" title="tag_attributes">tag_attributes</a></li><li><a href="#method.tags" title="tags">tags</a></li><li><a href="#method.url_relative" title="url_relative">url_relative</a></li><li><a href="#method.url_schemes" title="url_schemes">url_schemes</a></li><li><a href="#method.will_strip_comments" title="will_strip_comments">will_strip_comments</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Debug-for-Builder%3C'a%3E" title="Debug">Debug</a></li><li><a href="#impl-Default-for-Builder%3C'a%3E" title="Default">Default</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-RefUnwindSafe-for-Builder%3C'a%3E" title="!RefUnwindSafe">!RefUnwindSafe</a></li><li><a href="#impl-UnwindSafe-for-Builder%3C'a%3E" title="!UnwindSafe">!UnwindSafe</a></li><li><a href="#impl-Freeze-for-Builder%3C'a%3E" title="Freeze">Freeze</a></li><li><a href="#impl-Send-for-Builder%3C'a%3E" title="Send">Send</a></li><li><a href="#impl-Sync-for-Builder%3C'a%3E" title="Sync">Sync</a></li><li><a href="#impl-Unpin-for-Builder%3C'a%3E" title="Unpin">Unpin</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-ErasedDestructor-for-T" title="ErasedDestructor">ErasedDestructor</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-MaybeSendSync-for-T" title="MaybeSendSync">MaybeSendSync</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate ammonia</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">ammonia</a></div><h1>Struct <span class="struct">Builder</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/ammonia/lib.rs.html#357-373">Source</a> </span></div><pre class="rust item-decl"><code>pub struct Builder&lt;'a&gt; { <span class="comment">/* private fields */</span> }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An HTML sanitizer.</p>
<p>Given a fragment of HTML, Ammonia will parse it according to the HTML5
parsing algorithm and sanitize any disallowed tags or attributes. This
algorithm also takes care of things like unclosed and (some) misnested
tags.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::{Builder, UrlRelative};

<span class="kw">let </span>a = Builder::default()
    .link_rel(<span class="prelude-val">None</span>)
    .url_relative(UrlRelative::PassThrough)
    .clean(<span class="string">"&lt;a href=/&gt;test"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(
    a,
    <span class="string">"&lt;a href=\"/\"&gt;test&lt;/a&gt;"</span>);</code></pre></div>
<h2 id="panics"><a class="doc-anchor" href="#panics">§</a>Panics</h2>
<p>Running <a href="#method.clean"><code>clean</code></a> or <a href="#method.clean_from_reader"><code>clean_from_reader</code></a> may cause a panic if the builder is
configured with any of these (contradictory) settings:</p>
<ul>
<li>
<p>The <code>rel</code> attribute is added to <a href="#method.generic_attributes"><code>generic_attributes</code></a> or the
<a href="#method.tag_attributes"><code>tag_attributes</code></a> for the <code>&lt;a&gt;</code> tag, and <a href="#method.link_rel"><code>link_rel</code></a> is not set to <code>None</code>.</p>
<p>For example, this is going to panic, since <a href="#method.link_rel"><code>link_rel</code></a> is set  to
<code>Some("noopener noreferrer")</code> by default,
and it makes no sense to simultaneously say that the user is allowed to
set their own <code>rel</code> attribute while saying that every link shall be set to
a particular value:</p>

<div class="example-wrap should_panic"><a href="#" class="tooltip" title="This example panics">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

Builder::default()
    .generic_attributes(<span class="macro">hashset!</span>[<span class="string">"rel"</span>])
    .clean(<span class="string">""</span>);</code></pre></div>
<p>This, however, is perfectly valid:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

Builder::default()
    .generic_attributes(<span class="macro">hashset!</span>[<span class="string">"rel"</span>])
    .link_rel(<span class="prelude-val">None</span>)
    .clean(<span class="string">""</span>);</code></pre></div>
</li>
<li>
<p>The <code>class</code> attribute is in <a href="#method.allowed_classes"><code>allowed_classes</code></a> and is in the
corresponding <a href="#method.tag_attributes"><code>tag_attributes</code></a> or in <a href="#method.generic_attributes"><code>generic_attributes</code></a>.</p>
<p>This is done both to line up with the treatment of <code>rel</code>,
and to prevent people from accidentally allowing arbitrary
classes on a particular element.</p>
<p>This will panic:</p>

<div class="example-wrap should_panic"><a href="#" class="tooltip" title="This example panics">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::{hashmap, hashset};

Builder::default()
    .generic_attributes(<span class="macro">hashset!</span>[<span class="string">"class"</span>])
    .allowed_classes(<span class="macro">hashmap!</span>[<span class="string">"span" </span>=&gt; <span class="macro">hashset!</span>[<span class="string">"hidden"</span>]])
    .clean(<span class="string">""</span>);</code></pre></div>
<p>This, however, is perfectly valid:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::{hashmap, hashset};

Builder::default()
    .allowed_classes(<span class="macro">hashmap!</span>[<span class="string">"span" </span>=&gt; <span class="macro">hashset!</span>[<span class="string">"hidden"</span>]])
    .clean(<span class="string">""</span>);</code></pre></div>
</li>
<li>
<p>A tag is in either <a href="#method.tags"><code>tags</code></a> or <a href="#method.tag_attributes"><code>tag_attributes</code></a> while also
being in <a href="#method.clean_content_tags"><code>clean_content_tags</code></a>.</p>
<p>Both <a href="#method.tags"><code>tags</code></a> and <a href="#method.tag_attributes"><code>tag_attributes</code></a> are whitelists but
<a href="#method.clean_content_tags"><code>clean_content_tags</code></a> is a blacklist, so it doesn’t make sense
to have the same tag in both.</p>
<p>For example, this will panic, since the <code>aside</code> tag is in
<a href="#method.tags"><code>tags</code></a> by default:</p>

<div class="example-wrap should_panic"><a href="#" class="tooltip" title="This example panics">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

Builder::default()
    .clean_content_tags(<span class="macro">hashset!</span>[<span class="string">"aside"</span>])
    .clean(<span class="string">""</span>);</code></pre></div>
<p>This, however, is valid:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

Builder::default()
    .rm_tags(<span class="kw-2">&amp;</span>[<span class="string">"aside"</span>])
    .clean_content_tags(<span class="macro">hashset!</span>[<span class="string">"aside"</span>])
    .clean(<span class="string">""</span>);</code></pre></div>
</li>
</ul>
</div></details><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Builder%3C'a%3E" class="impl"><a class="src rightside" href="../src/ammonia/lib.rs.html#498-2210">Source</a><a href="#impl-Builder%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; <a class="struct" href="struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.tags" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#528-531">Source</a><h4 class="code-header">pub fn <a href="#method.tags" class="fn">tags</a>(&amp;mut self, value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Sets the tags that are allowed.</p>
<h5 id="examples-1"><a class="doc-anchor" href="#examples-1">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>tags = <span class="macro">hashset!</span>[<span class="string">"my-tag"</span>];
<span class="kw">let </span>a = Builder::new()
    .tags(tags)
    .clean(<span class="string">"&lt;my-tag&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">"&lt;my-tag&gt;&lt;/my-tag&gt;"</span>);</code></pre></div>
<h5 id="defaults"><a class="doc-anchor" href="#defaults">§</a>Defaults</h5><div class="example-wrap"><pre class="language-notest"><code>a, abbr, acronym, area, article, aside, b, bdi,
bdo, blockquote, br, caption, center, cite, code,
col, colgroup, data, dd, del, details, dfn, div,
dl, dt, em, figcaption, figure, footer, h1, h2,
h3, h4, h5, h6, header, hgroup, hr, i, img,
ins, kbd, li, map, mark, nav, ol, p, pre,
q, rp, rt, rtc, ruby, s, samp, small, span,
strike, strong, sub, summary, sup, table, tbody,
td, th, thead, time, tr, tt, u, ul, var, wbr</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.add_tags" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#543-549">Source</a><h4 class="code-header">pub fn <a href="#method.add_tags" class="fn">add_tags</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Add additonal whitelisted tags without overwriting old ones.</p>
<p>Does nothing if the tag is already there.</p>
<h5 id="examples-2"><a class="doc-anchor" href="#examples-2">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_tags(<span class="kw-2">&amp;</span>[<span class="string">"my-tag"</span>])
    .clean(<span class="string">"&lt;my-tag&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;my-tag&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rm_tags" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#561-569">Source</a><h4 class="code-header">pub fn <a href="#method.rm_tags" class="fn">rm_tags</a>&lt;'b, T: 'b + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'b T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Remove already-whitelisted tags.</p>
<p>Does nothing if the tags is already gone.</p>
<h5 id="examples-3"><a class="doc-anchor" href="#examples-3">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .rm_tags(<span class="kw-2">&amp;</span>[<span class="string">"span"</span>])
    .clean(<span class="string">"&lt;span&gt;&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">""</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_tags" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#582-584">Source</a><h4 class="code-header">pub fn <a href="#method.clone_tags" class="fn">clone_tags</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Returns a copy of the set of whitelisted tags.</p>
<h5 id="examples-4"><a class="doc-anchor" href="#examples-4">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>tags = <span class="macro">hashset!</span>[<span class="string">"my-tag-1"</span>, <span class="string">"my-tag-2"</span>];

<span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.tags(Clone::clone(<span class="kw-2">&amp;</span>tags));
<span class="macro">assert_eq!</span>(tags, b.clone_tags());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clean_content_tags" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#610-613">Source</a><h4 class="code-header">pub fn <a href="#method.clean_content_tags" class="fn">clean_content_tags</a>(&amp;mut self, value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Sets the tags whose contents will be completely removed from the output.</p>
<p>Adding tags which are whitelisted in <code>tags</code> or <code>tag_attributes</code> will cause
a panic.</p>
<h5 id="examples-5"><a class="doc-anchor" href="#examples-5">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>tag_blacklist = <span class="macro">hashset!</span>[<span class="string">"script"</span>, <span class="string">"style"</span>];
<span class="kw">let </span>a = Builder::new()
    .clean_content_tags(tag_blacklist)
    .clean(<span class="string">"&lt;script&gt;alert('hello')&lt;/script&gt;&lt;style&gt;a { background: #fff }&lt;/style&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">""</span>);</code></pre></div>
<h5 id="defaults-1"><a class="doc-anchor" href="#defaults-1">§</a>Defaults</h5><div class="example-wrap"><pre class="language-notest"><code>script, style</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.add_clean_content_tags" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#628-635">Source</a><h4 class="code-header">pub fn <a href="#method.add_clean_content_tags" class="fn">add_clean_content_tags</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Add additonal blacklisted clean-content tags without overwriting old ones.</p>
<p>Does nothing if the tag is already there.</p>
<p>Adding tags which are whitelisted in <code>tags</code> or <code>tag_attributes</code> will cause
a panic.</p>
<h5 id="examples-6"><a class="doc-anchor" href="#examples-6">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_clean_content_tags(<span class="kw-2">&amp;</span>[<span class="string">"my-tag"</span>])
    .clean(<span class="string">"&lt;my-tag&gt;test&lt;/my-tag&gt;&lt;span&gt;mess&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;span&gt;mess&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rm_clean_content_tags" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#653-661">Source</a><h4 class="code-header">pub fn <a href="#method.rm_clean_content_tags" class="fn">rm_clean_content_tags</a>&lt;'b, T: 'b + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'b T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Remove already-blacklisted clean-content tags.</p>
<p>Does nothing if the tags aren’t blacklisted.</p>
<h5 id="examples-7"><a class="doc-anchor" href="#examples-7">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>tag_blacklist = <span class="macro">hashset!</span>[<span class="string">"script"</span>];
<span class="kw">let </span>a = ammonia::Builder::default()
    .clean_content_tags(tag_blacklist)
    .rm_clean_content_tags(<span class="kw-2">&amp;</span>[<span class="string">"script"</span>])
    .clean(<span class="string">"&lt;script&gt;XSS&lt;/script&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"XSS"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_clean_content_tags" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#673-675">Source</a><h4 class="code-header">pub fn <a href="#method.clone_clean_content_tags" class="fn">clone_clean_content_tags</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Returns a copy of the set of blacklisted clean-content tags.</p>
<h5 id="examples-8"><a class="doc-anchor" href="#examples-8">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code>
<span class="kw">let </span>tags = <span class="macro">hashset!</span>[<span class="string">"my-tag-1"</span>, <span class="string">"my-tag-2"</span>];

<span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.clean_content_tags(Clone::clone(<span class="kw-2">&amp;</span>tags));
<span class="macro">assert_eq!</span>(tags, b.clone_clean_content_tags());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.tag_attributes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#739-742">Source</a><h4 class="code-header">pub fn <a href="#method.tag_attributes" class="fn">tag_attributes</a>(
    &amp;mut self,
    value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Sets the HTML attributes that are allowed on specific tags.</p>
<p>The value is structured as a map from tag names to a set of attribute names.</p>
<p>If a tag is not itself whitelisted, adding entries to this map will do nothing.</p>
<h5 id="examples-9"><a class="doc-anchor" href="#examples-9">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::{hashmap, hashset};

<span class="kw">let </span>tags = <span class="macro">hashset!</span>[<span class="string">"my-tag"</span>];
<span class="kw">let </span>tag_attributes = <span class="macro">hashmap!</span>[
    <span class="string">"my-tag" </span>=&gt; <span class="macro">hashset!</span>[<span class="string">"val"</span>]
];
<span class="kw">let </span>a = Builder::new().tags(tags).tag_attributes(tag_attributes)
    .clean(<span class="string">"&lt;my-tag val=1&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">"&lt;my-tag val=\"1\"&gt;&lt;/my-tag&gt;"</span>);</code></pre></div>
<h5 id="defaults-2"><a class="doc-anchor" href="#defaults-2">§</a>Defaults</h5><div class="example-wrap"><pre class="language-notest"><code>a =&gt;
    href, hreflang
bdo =&gt;
    dir
blockquote =&gt;
    cite
col =&gt;
    align, char, charoff, span
colgroup =&gt;
    align, char, charoff, span
del =&gt;
    cite, datetime
hr =&gt;
    align, size, width
img =&gt;
    align, alt, height, src, width
ins =&gt;
    cite, datetime
ol =&gt;
    start
q =&gt;
    cite
table =&gt;
    align, char, charoff, summary
tbody =&gt;
    align, char, charoff
td =&gt;
    align, char, charoff, colspan, headers, rowspan
tfoot =&gt;
    align, char, charoff
th =&gt;
    align, char, charoff, colspan, headers, rowspan, scope
thead =&gt;
    align, char, charoff
tr =&gt;
    align, char, charoff</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.add_tag_attributes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#753-767">Source</a><h4 class="code-header">pub fn <a href="#method.add_tag_attributes" class="fn">add_tag_attributes</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, U: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>&gt;&gt;(
    &amp;mut self,
    tag: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a U</a>,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Add additonal whitelisted tag-specific attributes without overwriting old ones.</p>
<h5 id="examples-10"><a class="doc-anchor" href="#examples-10">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_tags(<span class="kw-2">&amp;</span>[<span class="string">"my-tag"</span>])
    .add_tag_attributes(<span class="string">"my-tag"</span>, <span class="kw-2">&amp;</span>[<span class="string">"my-attr"</span>])
    .clean(<span class="string">"&lt;my-tag my-attr&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;my-tag my-attr=\"\"&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rm_tag_attributes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#779-796">Source</a><h4 class="code-header">pub fn <a href="#method.rm_tag_attributes" class="fn">rm_tag_attributes</a>&lt;'b, 'c, T: 'b + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, U: 'c + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'b T</a>&gt;&gt;(
    &amp;mut self,
    tag: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'c U</a>,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Remove already-whitelisted tag-specific attributes.</p>
<p>Does nothing if the attribute is already gone.</p>
<h5 id="examples-11"><a class="doc-anchor" href="#examples-11">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .rm_tag_attributes(<span class="string">"a"</span>, <span class="kw-2">&amp;</span>[<span class="string">"href"</span>])
    .clean(<span class="string">"&lt;a href=\"/\"&gt;&lt;/a&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;a rel=\"noopener noreferrer\"&gt;&lt;/a&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_tag_attributes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#810-812">Source</a><h4 class="code-header">pub fn <a href="#method.clone_tag_attributes" class="fn">clone_tag_attributes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns a copy of the set of whitelisted tag-specific attributes.</p>
<h5 id="examples-12"><a class="doc-anchor" href="#examples-12">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maplit::{hashmap, hashset};

<span class="kw">let </span>tag_attributes = <span class="macro">hashmap!</span>[
    <span class="string">"my-tag" </span>=&gt; <span class="macro">hashset!</span>[<span class="string">"my-attr-1"</span>, <span class="string">"my-attr-2"</span>]
];

<span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.tag_attributes(Clone::clone(<span class="kw-2">&amp;</span>tag_attributes));
<span class="macro">assert_eq!</span>(tag_attributes, b.clone_tag_attributes());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.tag_attribute_values" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#842-848">Source</a><h4 class="code-header">pub fn <a href="#method.tag_attribute_values" class="fn">tag_attribute_values</a>(
    &amp;mut self,
    value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;&gt;,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Sets the values of HTML attributes that are allowed on specific tags.</p>
<p>The value is structured as a map from tag names to a map from attribute names to a set of
attribute values.</p>
<p>If a tag is not itself whitelisted, adding entries to this map will do nothing.</p>
<h5 id="examples-13"><a class="doc-anchor" href="#examples-13">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::{hashmap, hashset};

<span class="kw">let </span>tags = <span class="macro">hashset!</span>[<span class="string">"my-tag"</span>];
<span class="kw">let </span>tag_attribute_values = <span class="macro">hashmap!</span>[
    <span class="string">"my-tag" </span>=&gt; <span class="macro">hashmap!</span>[
        <span class="string">"my-attr" </span>=&gt; <span class="macro">hashset!</span>[<span class="string">"val"</span>],
    ],
];
<span class="kw">let </span>a = Builder::new().tags(tags).tag_attribute_values(tag_attribute_values)
    .clean(<span class="string">"&lt;my-tag my-attr=val&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">"&lt;my-tag my-attr=\"val\"&gt;&lt;/my-tag&gt;"</span>);</code></pre></div>
<h5 id="defaults-3"><a class="doc-anchor" href="#defaults-3">§</a>Defaults</h5>
<p>None.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.add_tag_attribute_values" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#859-878">Source</a><h4 class="code-header">pub fn <a href="#method.add_tag_attribute_values" class="fn">add_tag_attribute_values</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, U: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, V: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>&gt;&gt;(
    &amp;mut self,
    tag: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a U</a>,
    attribute: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a V</a>,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Add additonal whitelisted tag-specific attribute values without overwriting old ones.</p>
<h5 id="examples-14"><a class="doc-anchor" href="#examples-14">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_tags(<span class="kw-2">&amp;</span>[<span class="string">"my-tag"</span>])
    .add_tag_attribute_values(<span class="string">"my-tag"</span>, <span class="string">"my-attr"</span>, <span class="kw-2">&amp;</span>[<span class="string">""</span>])
    .clean(<span class="string">"&lt;my-tag my-attr&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;my-tag my-attr=\"\"&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rm_tag_attribute_values" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#892-915">Source</a><h4 class="code-header">pub fn <a href="#method.rm_tag_attribute_values" class="fn">rm_tag_attribute_values</a>&lt;'b, 'c, T: 'b + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, U: 'c + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, V: 'c + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'b T</a>&gt;&gt;(
    &amp;mut self,
    tag: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'c U</a>,
    attribute: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'c V</a>,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Remove already-whitelisted tag-specific attribute values.</p>
<p>Does nothing if the attribute or the value is already gone.</p>
<h5 id="examples-15"><a class="doc-anchor" href="#examples-15">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .rm_tag_attributes(<span class="string">"a"</span>, <span class="kw-2">&amp;</span>[<span class="string">"href"</span>])
    .add_tag_attribute_values(<span class="string">"a"</span>, <span class="string">"href"</span>, <span class="kw-2">&amp;</span>[<span class="string">"/"</span>])
    .rm_tag_attribute_values(<span class="string">"a"</span>, <span class="string">"href"</span>, <span class="kw-2">&amp;</span>[<span class="string">"/"</span>])
    .clean(<span class="string">"&lt;a href=\"/\"&gt;&lt;/a&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;a rel=\"noopener noreferrer\"&gt;&lt;/a&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_tag_attribute_values" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#934-938">Source</a><h4 class="code-header">pub fn <a href="#method.clone_tag_attribute_values" class="fn">clone_tag_attribute_values</a>(
    &amp;self,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns a copy of the set of whitelisted tag-specific attribute values.</p>
<h5 id="examples-16"><a class="doc-anchor" href="#examples-16">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maplit::{hashmap, hashset};

<span class="kw">let </span>attribute_values = <span class="macro">hashmap!</span>[
    <span class="string">"my-attr-1" </span>=&gt; <span class="macro">hashset!</span>[<span class="string">"foo"</span>],
    <span class="string">"my-attr-2" </span>=&gt; <span class="macro">hashset!</span>[<span class="string">"baz"</span>, <span class="string">"bar"</span>],
];
<span class="kw">let </span>tag_attribute_values = <span class="macro">hashmap!</span>[
    <span class="string">"my-tag" </span>=&gt; attribute_values
];

<span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.tag_attribute_values(Clone::clone(<span class="kw-2">&amp;</span>tag_attribute_values));
<span class="macro">assert_eq!</span>(tag_attribute_values, b.clone_tag_attribute_values());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_tag_attribute_values" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#968-974">Source</a><h4 class="code-header">pub fn <a href="#method.set_tag_attribute_values" class="fn">set_tag_attribute_values</a>(
    &amp;mut self,
    value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, &amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Sets the values of HTML attributes that are to be set on specific tags.</p>
<p>The value is structured as a map from tag names to a map from attribute names to an
attribute value.</p>
<p>If a tag is not itself whitelisted, adding entries to this map will do nothing.</p>
<h5 id="examples-17"><a class="doc-anchor" href="#examples-17">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::{hashmap, hashset};

<span class="kw">let </span>tags = <span class="macro">hashset!</span>[<span class="string">"my-tag"</span>];
<span class="kw">let </span>set_tag_attribute_values = <span class="macro">hashmap!</span>[
    <span class="string">"my-tag" </span>=&gt; <span class="macro">hashmap!</span>[
        <span class="string">"my-attr" </span>=&gt; <span class="string">"val"</span>,
    ],
];
<span class="kw">let </span>a = Builder::new().tags(tags).set_tag_attribute_values(set_tag_attribute_values)
    .clean(<span class="string">"&lt;my-tag&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">"&lt;my-tag my-attr=\"val\"&gt;&lt;/my-tag&gt;"</span>);</code></pre></div>
<h5 id="defaults-4"><a class="doc-anchor" href="#defaults-4">§</a>Defaults</h5>
<p>None.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_tag_attribute_value" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#985-1000">Source</a><h4 class="code-header">pub fn <a href="#method.set_tag_attribute_value" class="fn">set_tag_attribute_value</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, A: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, V: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;(
    &amp;mut self,
    tag: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>,
    attribute: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a A</a>,
    value: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a V</a>,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Add an attribute value to set on a specific element.</p>
<h5 id="examples-18"><a class="doc-anchor" href="#examples-18">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_tags(<span class="kw-2">&amp;</span>[<span class="string">"my-tag"</span>])
    .set_tag_attribute_value(<span class="string">"my-tag"</span>, <span class="string">"my-attr"</span>, <span class="string">"val"</span>)
    .clean(<span class="string">"&lt;my-tag&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;my-tag my-attr=\"val\"&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rm_set_tag_attribute_value" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1015-1027">Source</a><h4 class="code-header">pub fn <a href="#method.rm_set_tag_attribute_value" class="fn">rm_set_tag_attribute_value</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, A: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;(
    &amp;mut self,
    tag: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>,
    attribute: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a A</a>,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Remove existing tag-specific attribute values to be set.</p>
<p>Does nothing if the attribute is already gone.</p>
<h5 id="examples-19"><a class="doc-anchor" href="#examples-19">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    <span class="comment">// this does nothing, since no value is set for this tag attribute yet
    </span>.rm_set_tag_attribute_value(<span class="string">"a"</span>, <span class="string">"target"</span>)
    .set_tag_attribute_value(<span class="string">"a"</span>, <span class="string">"target"</span>, <span class="string">"_blank"</span>)
    .rm_set_tag_attribute_value(<span class="string">"a"</span>, <span class="string">"target"</span>)
    .clean(<span class="string">"&lt;a href=\"/\"&gt;&lt;/a&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;a href=\"/\" rel=\"noopener noreferrer\"&gt;&lt;/a&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_set_tag_attribute_value" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1037-1049">Source</a><h4 class="code-header">pub fn <a href="#method.get_set_tag_attribute_value" class="fn">get_set_tag_attribute_value</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, A: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;(
    &amp;self,
    tag: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>,
    attribute: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a A</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the value that will be set for the attribute on the element, if any.</p>
<h5 id="examples-20"><a class="doc-anchor" href="#examples-20">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.set_tag_attribute_value(<span class="string">"a"</span>, <span class="string">"target"</span>, <span class="string">"_blank"</span>);
<span class="kw">let </span>value = b.get_set_tag_attribute_value(<span class="string">"a"</span>, <span class="string">"target"</span>);
<span class="macro">assert_eq!</span>(value, <span class="prelude-val">Some</span>(<span class="string">"_blank"</span>));</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_set_tag_attribute_values" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1068-1070">Source</a><h4 class="code-header">pub fn <a href="#method.clone_set_tag_attribute_values" class="fn">clone_set_tag_attribute_values</a>(
    &amp;self,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, &amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns a copy of the set of tag-specific attribute values to be set.</p>
<h5 id="examples-21"><a class="doc-anchor" href="#examples-21">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maplit::{hashmap, hashset};

<span class="kw">let </span>attribute_values = <span class="macro">hashmap!</span>[
    <span class="string">"my-attr-1" </span>=&gt; <span class="string">"foo"</span>,
    <span class="string">"my-attr-2" </span>=&gt; <span class="string">"bar"</span>,
];
<span class="kw">let </span>set_tag_attribute_values = <span class="macro">hashmap!</span>[
    <span class="string">"my-tag" </span>=&gt; attribute_values,
];

<span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.set_tag_attribute_values(Clone::clone(<span class="kw-2">&amp;</span>set_tag_attribute_values));
<span class="macro">assert_eq!</span>(set_tag_attribute_values, b.clone_set_tag_attribute_values());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.generic_attribute_prefixes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1091-1094">Source</a><h4 class="code-header">pub fn <a href="#method.generic_attribute_prefixes" class="fn">generic_attribute_prefixes</a>(
    &amp;mut self,
    value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Sets the prefix of attributes that are allowed on any tag.</p>
<h5 id="examples-22"><a class="doc-anchor" href="#examples-22">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>prefixes = <span class="macro">hashset!</span>[<span class="string">"data-"</span>];
<span class="kw">let </span>a = Builder::new()
    .generic_attribute_prefixes(prefixes)
    .clean(<span class="string">"&lt;b data-val=1&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">"&lt;b data-val=\"1\"&gt;&lt;/b&gt;"</span>);</code></pre></div>
<h5 id="defaults-5"><a class="doc-anchor" href="#defaults-5">§</a>Defaults</h5>
<p>No attribute prefixes are allowed by default.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.add_generic_attribute_prefixes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1104-1115">Source</a><h4 class="code-header">pub fn <a href="#method.add_generic_attribute_prefixes" class="fn">add_generic_attribute_prefixes</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Add additional whitelisted attribute prefix without overwriting old ones.</p>
<h5 id="examples-23"><a class="doc-anchor" href="#examples-23">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_generic_attribute_prefixes(<span class="kw-2">&amp;</span>[<span class="string">"my-"</span>])
    .clean(<span class="string">"&lt;span my-attr&gt;mess&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;span my-attr=\"\"&gt;mess&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rm_generic_attribute_prefixes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1128-1145">Source</a><h4 class="code-header">pub fn <a href="#method.rm_generic_attribute_prefixes" class="fn">rm_generic_attribute_prefixes</a>&lt;'b, T: 'b + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'b T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Remove already-whitelisted attribute prefixes.</p>
<p>Does nothing if the attribute prefix is already gone.</p>
<h5 id="examples-24"><a class="doc-anchor" href="#examples-24">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_generic_attribute_prefixes(<span class="kw-2">&amp;</span>[<span class="string">"data-"</span>, <span class="string">"code-"</span>])
    .rm_generic_attribute_prefixes(<span class="kw-2">&amp;</span>[<span class="string">"data-"</span>])
    .clean(<span class="string">"&lt;span code-test=\"foo\" data-test=\"cool\"&gt;&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;span code-test=\"foo\"&gt;&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_generic_attribute_prefixes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1158-1160">Source</a><h4 class="code-header">pub fn <a href="#method.clone_generic_attribute_prefixes" class="fn">clone_generic_attribute_prefixes</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns a copy of the set of whitelisted attribute prefixes.</p>
<h5 id="examples-25"><a class="doc-anchor" href="#examples-25">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>generic_attribute_prefixes = <span class="macro">hashset!</span>[<span class="string">"my-prfx-1-"</span>, <span class="string">"my-prfx-2-"</span>];

<span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.generic_attribute_prefixes(Clone::clone(<span class="kw-2">&amp;</span>generic_attribute_prefixes));
<span class="macro">assert_eq!</span>(<span class="prelude-val">Some</span>(generic_attribute_prefixes), b.clone_generic_attribute_prefixes());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.generic_attributes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1183-1186">Source</a><h4 class="code-header">pub fn <a href="#method.generic_attributes" class="fn">generic_attributes</a>(&amp;mut self, value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Sets the attributes that are allowed on any tag.</p>
<h5 id="examples-26"><a class="doc-anchor" href="#examples-26">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>attributes = <span class="macro">hashset!</span>[<span class="string">"data-val"</span>];
<span class="kw">let </span>a = Builder::new()
    .generic_attributes(attributes)
    .clean(<span class="string">"&lt;b data-val=1&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">"&lt;b data-val=\"1\"&gt;&lt;/b&gt;"</span>);</code></pre></div>
<h5 id="defaults-6"><a class="doc-anchor" href="#defaults-6">§</a>Defaults</h5><div class="example-wrap"><pre class="language-notest"><code>lang, title</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.add_generic_attributes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1196-1203">Source</a><h4 class="code-header">pub fn <a href="#method.add_generic_attributes" class="fn">add_generic_attributes</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Add additonal whitelisted attributes without overwriting old ones.</p>
<h5 id="examples-27"><a class="doc-anchor" href="#examples-27">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_generic_attributes(<span class="kw-2">&amp;</span>[<span class="string">"my-attr"</span>])
    .clean(<span class="string">"&lt;span my-attr&gt;mess&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;span my-attr=\"\"&gt;mess&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rm_generic_attributes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1215-1223">Source</a><h4 class="code-header">pub fn <a href="#method.rm_generic_attributes" class="fn">rm_generic_attributes</a>&lt;'b, T: 'b + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'b T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Remove already-whitelisted attributes.</p>
<p>Does nothing if the attribute is already gone.</p>
<h5 id="examples-28"><a class="doc-anchor" href="#examples-28">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .rm_generic_attributes(<span class="kw-2">&amp;</span>[<span class="string">"title"</span>])
    .clean(<span class="string">"&lt;span title=\"cool\"&gt;&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;span&gt;&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_generic_attributes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1236-1238">Source</a><h4 class="code-header">pub fn <a href="#method.clone_generic_attributes" class="fn">clone_generic_attributes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Returns a copy of the set of whitelisted attributes.</p>
<h5 id="examples-29"><a class="doc-anchor" href="#examples-29">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>generic_attributes = <span class="macro">hashset!</span>[<span class="string">"my-attr-1"</span>, <span class="string">"my-attr-2"</span>];

<span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.generic_attributes(Clone::clone(<span class="kw-2">&amp;</span>generic_attributes));
<span class="macro">assert_eq!</span>(generic_attributes, b.clone_generic_attributes());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.url_schemes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1269-1272">Source</a><h4 class="code-header">pub fn <a href="#method.url_schemes" class="fn">url_schemes</a>(&amp;mut self, value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Sets the URL schemes permitted on <code>href</code> and <code>src</code> attributes.</p>
<h5 id="examples-30"><a class="doc-anchor" href="#examples-30">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>url_schemes = <span class="macro">hashset!</span>[
    <span class="string">"http"</span>, <span class="string">"https"</span>, <span class="string">"mailto"</span>, <span class="string">"magnet"
</span>];
<span class="kw">let </span>a = Builder::new().url_schemes(url_schemes)
    .clean(<span class="string">"&lt;a href=\"magnet:?xt=urn:ed2k:31D6CFE0D16AE931B73C59D7E0C089C0&amp;xl=0&amp;dn=zero_len.fil&amp;xt=urn:bitprint:3I42H3S6NNFQ2MSVX7XZKYAYSCX5QBYJ.LWPNACQDBZRYXW3VHJVCJ64QBZNGHOHHHZWCLNQ&amp;xt=urn:md5:D41D8CD98F00B204E9800998ECF8427E\"&gt;zero-length file&lt;/a&gt;"</span>)
    .to_string();

<span class="comment">// See `link_rel` for information on the rel="noopener noreferrer" attribute
// in the cleaned HTML.
</span><span class="macro">assert_eq!</span>(a,
  <span class="string">"&lt;a href=\"magnet:?xt=urn:ed2k:31D6CFE0D16AE931B73C59D7E0C089C0&amp;amp;xl=0&amp;amp;dn=zero_len.fil&amp;amp;xt=urn:bitprint:3I42H3S6NNFQ2MSVX7XZKYAYSCX5QBYJ.LWPNACQDBZRYXW3VHJVCJ64QBZNGHOHHHZWCLNQ&amp;amp;xt=urn:md5:D41D8CD98F00B204E9800998ECF8427E\" rel=\"noopener noreferrer\"&gt;zero-length file&lt;/a&gt;"</span>);</code></pre></div>
<h5 id="defaults-7"><a class="doc-anchor" href="#defaults-7">§</a>Defaults</h5><div class="example-wrap"><pre class="language-notest"><code>bitcoin, ftp, ftps, geo, http, https, im, irc,
ircs, magnet, mailto, mms, mx, news, nntp,
openpgp4fpr, sip, sms, smsto, ssh, tel, url,
webcal, wtai, xmpp</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.add_url_schemes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1282-1288">Source</a><h4 class="code-header">pub fn <a href="#method.add_url_schemes" class="fn">add_url_schemes</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Add additonal whitelisted URL schemes without overwriting old ones.</p>
<h5 id="examples-31"><a class="doc-anchor" href="#examples-31">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_url_schemes(<span class="kw-2">&amp;</span>[<span class="string">"my-scheme"</span>])
    .clean(<span class="string">"&lt;a href=my-scheme:home&gt;mess&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;a href=\"my-scheme:home\" rel=\"noopener noreferrer\"&gt;mess&lt;/a&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rm_url_schemes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1300-1308">Source</a><h4 class="code-header">pub fn <a href="#method.rm_url_schemes" class="fn">rm_url_schemes</a>&lt;'b, T: 'b + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'b T</a>&gt;&gt;(
    &amp;mut self,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Remove already-whitelisted attributes.</p>
<p>Does nothing if the attribute is already gone.</p>
<h5 id="examples-32"><a class="doc-anchor" href="#examples-32">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .rm_url_schemes(<span class="kw-2">&amp;</span>[<span class="string">"ftp"</span>])
    .clean(<span class="string">"&lt;a href=\"ftp://ftp.mozilla.org/\"&gt;&lt;/a&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;a rel=\"noopener noreferrer\"&gt;&lt;/a&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_url_schemes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1320-1322">Source</a><h4 class="code-header">pub fn <a href="#method.clone_url_schemes" class="fn">clone_url_schemes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Returns a copy of the set of whitelisted URL schemes.</p>
<h5 id="examples-33"><a class="doc-anchor" href="#examples-33">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>url_schemes = <span class="macro">hashset!</span>[<span class="string">"my-scheme-1"</span>, <span class="string">"my-scheme-2"</span>];

<span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.url_schemes(Clone::clone(<span class="kw-2">&amp;</span>url_schemes));
<span class="macro">assert_eq!</span>(url_schemes, b.clone_url_schemes());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.url_relative" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1345-1348">Source</a><h4 class="code-header">pub fn <a href="#method.url_relative" class="fn">url_relative</a>(&amp;mut self, value: <a class="enum" href="enum.UrlRelative.html" title="enum ammonia::UrlRelative">UrlRelative</a>&lt;'a&gt;) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Configures the behavior for relative URLs: pass-through, resolve-with-base, or deny.</p>
<h5 id="examples-34"><a class="doc-anchor" href="#examples-34">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::{Builder, UrlRelative};

<span class="kw">let </span>a = Builder::new().url_relative(UrlRelative::PassThrough)
    .clean(<span class="string">"&lt;a href=/&gt;Home&lt;/a&gt;"</span>)
    .to_string();

<span class="comment">// See `link_rel` for information on the rel="noopener noreferrer" attribute
// in the cleaned HTML.
</span><span class="macro">assert_eq!</span>(
  a,
  <span class="string">"&lt;a href=\"/\" rel=\"noopener noreferrer\"&gt;Home&lt;/a&gt;"</span>);</code></pre></div>
<h5 id="defaults-8"><a class="doc-anchor" href="#defaults-8">§</a>Defaults</h5><div class="example-wrap"><pre class="language-notest"><code>UrlRelative::PassThrough</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.attribute_filter" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1378-1388">Source</a><h4 class="code-header">pub fn <a href="#method.attribute_filter" class="fn">attribute_filter</a>&lt;'cb, CallbackFn&gt;(
    &amp;mut self,
    callback: CallbackFn,
) -&gt; &amp;mut Self<div class="where">where
    CallbackFn: for&lt;'u&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, &amp;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, &amp;'u <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.90.0/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'u, <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,</div></h4></section></summary><div class="docblock"><p>Allows rewriting of all attributes using a callback.</p>
<p>The callback takes name of the element, attribute and its value.
Returns <code>None</code> to remove the attribute, or a value to use.</p>
<p>Rewriting of attributes with URLs is done before <code>url_relative()</code>.</p>
<h5 id="panics-1"><a class="doc-anchor" href="#panics-1">§</a>Panics</h5>
<p>If more than one callback is set.</p>
<h5 id="examples-35"><a class="doc-anchor" href="#examples-35">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">let </span>a = Builder::new()
    .attribute_filter(|element, attribute, value| {
        <span class="kw">match </span>(element, attribute) {
            (<span class="string">"img"</span>, <span class="string">"src"</span>) =&gt; <span class="prelude-val">None</span>,
            <span class="kw">_ </span>=&gt; <span class="prelude-val">Some</span>(value.into())
        }
    })
    .link_rel(<span class="prelude-val">None</span>)
    .clean(<span class="string">"&lt;a href=/&gt;&lt;img alt=Home src=foo&gt;&lt;/a&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a,
    <span class="string">r#"&lt;a href="/"&gt;&lt;img alt="Home"&gt;&lt;/a&gt;"#</span>);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_url_relative_deny" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1400-1402">Source</a><h4 class="code-header">pub fn <a href="#method.is_url_relative_deny" class="fn">is_url_relative_deny</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns <code>true</code> if the relative URL resolver is set to <code>Deny</code>.</p>
<h5 id="examples-36"><a class="doc-anchor" href="#examples-36">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::{Builder, UrlRelative};
<span class="kw">let </span><span class="kw-2">mut </span>a = Builder::default();
a.url_relative(UrlRelative::Deny);
<span class="macro">assert!</span>(a.is_url_relative_deny());
a.url_relative(UrlRelative::PassThrough);
<span class="macro">assert!</span>(!a.is_url_relative_deny());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_url_relative_pass_through" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1414-1416">Source</a><h4 class="code-header">pub fn <a href="#method.is_url_relative_pass_through" class="fn">is_url_relative_pass_through</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns <code>true</code> if the relative URL resolver is set to <code>PassThrough</code>.</p>
<h5 id="examples-37"><a class="doc-anchor" href="#examples-37">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::{Builder, UrlRelative};
<span class="kw">let </span><span class="kw-2">mut </span>a = Builder::default();
a.url_relative(UrlRelative::Deny);
<span class="macro">assert!</span>(!a.is_url_relative_pass_through());
a.url_relative(UrlRelative::PassThrough);
<span class="macro">assert!</span>(a.is_url_relative_pass_through());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_url_relative_custom" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1434-1436">Source</a><h4 class="code-header">pub fn <a href="#method.is_url_relative_custom" class="fn">is_url_relative_custom</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns <code>true</code> if the relative URL resolver is set to <code>Custom</code>.</p>
<h5 id="examples-38"><a class="doc-anchor" href="#examples-38">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::{Builder, UrlRelative};
<span class="kw">use </span>std::borrow::Cow;
<span class="kw">fn </span>test(a: <span class="kw-2">&amp;</span>str) -&gt; <span class="prelude-ty">Option</span>&lt;Cow&lt;str&gt;&gt; { <span class="prelude-val">None </span>}
<span class="kw">let </span><span class="kw-2">mut </span>a = Builder::default();
a.url_relative(UrlRelative::Custom(Box::new(test)));
<span class="macro">assert!</span>(a.is_url_relative_custom());
a.url_relative(UrlRelative::PassThrough);
<span class="macro">assert!</span>(!a.is_url_relative_custom());
a.url_relative(UrlRelative::Deny);
<span class="macro">assert!</span>(!a.is_url_relative_custom());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.link_rel" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1474-1477">Source</a><h4 class="code-header">pub fn <a href="#method.link_rel" class="fn">link_rel</a>(&amp;mut self, value: <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Configures a <code>rel</code> attribute that will be added on links.</p>
<p>If <code>rel</code> is in the generic or tag attributes, this must be set to <code>None</code>.
Common <code>rel</code> values to include:</p>
<ul>
<li><code>noopener</code>: This prevents <a href="https://mathiasbynens.github.io/rel-noopener/">a particular type of XSS attack</a>,
and should usually be turned on for untrusted HTML.</li>
<li><code>noreferrer</code>: This prevents the browser from <a href="https://en.wikipedia.org/wiki/HTTP_referer">sending the source URL</a>
to the website that is linked to.</li>
<li><code>nofollow</code>: This prevents search engines from <a href="https://en.wikipedia.org/wiki/Nofollow">using this link for
ranking</a>, which disincentivizes spammers.</li>
</ul>
<p>To turn on rel-insertion, call this function with a space-separated list.
Ammonia does not parse rel-attributes;
it just puts the given string into the attribute directly.</p>
<h5 id="examples-39"><a class="doc-anchor" href="#examples-39">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;

<span class="kw">let </span>a = Builder::new().link_rel(<span class="prelude-val">None</span>)
    .clean(<span class="string">"&lt;a href=https://rust-lang.org/&gt;Rust&lt;/a&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(
  a,
  <span class="string">"&lt;a href=\"https://rust-lang.org/\"&gt;Rust&lt;/a&gt;"</span>);</code></pre></div>
<h5 id="defaults-9"><a class="doc-anchor" href="#defaults-9">§</a>Defaults</h5><div class="example-wrap"><pre class="language-notest"><code>Some(&quot;noopener noreferrer&quot;)</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.get_link_rel" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1487-1489">Source</a><h4 class="code-header">pub fn <a href="#method.get_link_rel" class="fn">get_link_rel</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the settings for links’ <code>rel</code> attribute, if one is set.</p>
<h5 id="examples-40"><a class="doc-anchor" href="#examples-40">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::{Builder, UrlRelative};
<span class="kw">let </span><span class="kw-2">mut </span>a = Builder::default();
a.link_rel(<span class="prelude-val">Some</span>(<span class="string">"a b"</span>));
<span class="macro">assert_eq!</span>(a.get_link_rel(), <span class="prelude-val">Some</span>(<span class="string">"a b"</span>));</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.allowed_classes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1519-1522">Source</a><h4 class="code-header">pub fn <a href="#method.allowed_classes" class="fn">allowed_classes</a>(
    &amp;mut self,
    value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Sets the CSS classes that are allowed on specific tags.</p>
<p>The values is structured as a map from tag names to a set of class names.</p>
<p>If the <code>class</code> attribute is itself whitelisted for a tag, then adding entries to
this map will cause a panic.</p>
<h5 id="examples-41"><a class="doc-anchor" href="#examples-41">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::{hashmap, hashset};

<span class="kw">let </span>allowed_classes = <span class="macro">hashmap!</span>[
    <span class="string">"code" </span>=&gt; <span class="macro">hashset!</span>[<span class="string">"rs"</span>, <span class="string">"ex"</span>, <span class="string">"c"</span>, <span class="string">"cxx"</span>, <span class="string">"js"</span>]
];
<span class="kw">let </span>a = Builder::new()
    .allowed_classes(allowed_classes)
    .clean(<span class="string">"&lt;code class=rs&gt;fn main() {}&lt;/code&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(
  a,
  <span class="string">"&lt;code class=\"rs\"&gt;fn main() {}&lt;/code&gt;"</span>);</code></pre></div>
<h5 id="defaults-10"><a class="doc-anchor" href="#defaults-10">§</a>Defaults</h5>
<p>The set of allowed classes is empty by default.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.add_allowed_classes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1532-1546">Source</a><h4 class="code-header">pub fn <a href="#method.add_allowed_classes" class="fn">add_allowed_classes</a>&lt;T: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, U: 'a + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a T</a>&gt;&gt;(
    &amp;mut self,
    tag: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'a U</a>,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Add additonal whitelisted classes without overwriting old ones.</p>
<h5 id="examples-42"><a class="doc-anchor" href="#examples-42">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_allowed_classes(<span class="string">"a"</span>, <span class="kw-2">&amp;</span>[<span class="string">"onebox"</span>])
    .clean(<span class="string">"&lt;a href=/ class=onebox&gt;mess&lt;/span&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;a href=\"/\" class=\"onebox\" rel=\"noopener noreferrer\"&gt;mess&lt;/a&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rm_allowed_classes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1559-1576">Source</a><h4 class="code-header">pub fn <a href="#method.rm_allowed_classes" class="fn">rm_allowed_classes</a>&lt;'b, 'c, T: 'b + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, U: 'c + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;, I: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIter</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'b T</a>&gt;&gt;(
    &amp;mut self,
    tag: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;'c U</a>,
    it: I,
) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Remove already-whitelisted attributes.</p>
<p>Does nothing if the attribute is already gone.</p>
<h5 id="examples-43"><a class="doc-anchor" href="#examples-43">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>a = ammonia::Builder::default()
    .add_allowed_classes(<span class="string">"span"</span>, <span class="kw-2">&amp;</span>[<span class="string">"active"</span>])
    .rm_allowed_classes(<span class="string">"span"</span>, <span class="kw-2">&amp;</span>[<span class="string">"active"</span>])
    .clean(<span class="string">"&lt;span class=active&gt;"</span>).to_string();
<span class="macro">assert_eq!</span>(<span class="string">"&lt;span class=\"\"&gt;&lt;/span&gt;"</span>, a);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clone_allowed_classes" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1591-1593">Source</a><h4 class="code-header">pub fn <a href="#method.clone_allowed_classes" class="fn">clone_allowed_classes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns a copy of the set of whitelisted class attributes.</p>
<h5 id="examples-44"><a class="doc-anchor" href="#examples-44">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maplit::{hashmap, hashset};

<span class="kw">let </span>allowed_classes = <span class="macro">hashmap!</span>[
    <span class="string">"my-tag" </span>=&gt; <span class="macro">hashset!</span>[<span class="string">"my-class-1"</span>, <span class="string">"my-class-2"</span>]
];

<span class="kw">let </span><span class="kw-2">mut </span>b = ammonia::Builder::default();
b.allowed_classes(Clone::clone(<span class="kw-2">&amp;</span>allowed_classes));
<span class="macro">assert_eq!</span>(allowed_classes, b.clone_allowed_classes());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.strip_comments" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1613-1616">Source</a><h4 class="code-header">pub fn <a href="#method.strip_comments" class="fn">strip_comments</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.bool.html">bool</a>) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Configures the handling of HTML comments.</p>
<p>If this option is false, comments will be preserved.</p>
<h5 id="examples-45"><a class="doc-anchor" href="#examples-45">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;

<span class="kw">let </span>a = Builder::new().strip_comments(<span class="bool-val">false</span>)
    .clean(<span class="string">"&lt;!-- yes --&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(
  a,
  <span class="string">"&lt;!-- yes --&gt;"</span>);</code></pre></div>
<h5 id="defaults-11"><a class="doc-anchor" href="#defaults-11">§</a>Defaults</h5>
<p><code>true</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.will_strip_comments" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1627-1629">Source</a><h4 class="code-header">pub fn <a href="#method.will_strip_comments" class="fn">will_strip_comments</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns <code>true</code> if comment stripping is turned on.</p>
<h5 id="examples-46"><a class="doc-anchor" href="#examples-46">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span><span class="kw-2">mut </span>a = ammonia::Builder::new();
a.strip_comments(<span class="bool-val">true</span>);
<span class="macro">assert!</span>(a.will_strip_comments());
a.strip_comments(<span class="bool-val">false</span>);
<span class="macro">assert!</span>(!a.will_strip_comments());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.id_prefix" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1653-1656">Source</a><h4 class="code-header">pub fn <a href="#method.id_prefix" class="fn">id_prefix</a>(&amp;mut self, value: <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Prefixes all “id” attribute values with a given string.  Note that the tag and
attribute themselves must still be whitelisted.</p>
<h5 id="examples-47"><a class="doc-anchor" href="#examples-47">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>attributes = <span class="macro">hashset!</span>[<span class="string">"id"</span>];
<span class="kw">let </span>a = Builder::new()
    .generic_attributes(attributes)
    .id_prefix(<span class="prelude-val">Some</span>(<span class="string">"safe-"</span>))
    .clean(<span class="string">"&lt;b id=42&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">"&lt;b id=\"safe-42\"&gt;&lt;/b&gt;"</span>);</code></pre></div>
<h5 id="defaults-12"><a class="doc-anchor" href="#defaults-12">§</a>Defaults</h5>
<p><code>None</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.filter_style_properties" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1681-1684">Source</a><h4 class="code-header">pub fn <a href="#method.filter_style_properties" class="fn">filter_style_properties</a>(&amp;mut self, value: <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>&gt;) -&gt; &amp;mut Self</h4></section></summary><div class="docblock"><p>Only allows the specified properties in <code>style</code> attributes.</p>
<p>Irrelevant if <code>style</code> is not an allowed attribute.</p>
<p>Note that if style filtering is enabled style properties will be normalised e.g.
invalid declarations and @rules will be removed, with only syntactically valid
declarations kept.</p>
<h5 id="examples-48"><a class="doc-anchor" href="#examples-48">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;
<span class="kw">use </span>maplit::hashset;

<span class="kw">let </span>attributes = <span class="macro">hashset!</span>[<span class="string">"style"</span>];
<span class="kw">let </span>properties = <span class="macro">hashset!</span>[<span class="string">"color"</span>];
<span class="kw">let </span>a = Builder::new()
    .generic_attributes(attributes)
    .filter_style_properties(properties)
    .clean(<span class="string">"&lt;p style=\"font-weight: heavy; color: red\"&gt;my html&lt;/p&gt;"</span>)
    .to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">"&lt;p style=\"color:red\"&gt;my html&lt;/p&gt;"</span>);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1708-1710">Source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>() -&gt; Self</h4></section></summary><div class="docblock"><p>Constructs a <a href="struct.Builder.html"><code>Builder</code></a> instance configured with the <a href="fn.clean.html">default options</a>.</p>
<h5 id="examples-49"><a class="doc-anchor" href="#examples-49">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::{Builder, Url, UrlRelative};

<span class="kw">let </span>input = <span class="string">"&lt;!-- comments will be stripped --&gt;This is an &lt;a href=.&gt;Ammonia&lt;/a&gt; example using &lt;a href=struct.Builder.html#method.new onclick=xss&gt;the &lt;code onmouseover=xss&gt;new()&lt;/code&gt; function&lt;/a&gt;."</span>;
<span class="kw">let </span>output = <span class="string">"This is an &lt;a href=\"https://docs.rs/ammonia/1.0/ammonia/\" rel=\"noopener noreferrer\"&gt;Ammonia&lt;/a&gt; example using &lt;a href=\"https://docs.rs/ammonia/1.0/ammonia/struct.Builder.html#method.new\" rel=\"noopener noreferrer\"&gt;the &lt;code&gt;new()&lt;/code&gt; function&lt;/a&gt;."</span>;

<span class="kw">let </span>result = Builder::new() <span class="comment">// &lt;--
    </span>.url_relative(UrlRelative::RewriteWithBase(Url::parse(<span class="string">"https://docs.rs/ammonia/1.0/ammonia/"</span>)<span class="question-mark">?</span>))
    .clean(input)
    .to_string();
<span class="macro">assert_eq!</span>(result, output);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.empty" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1734-1739">Source</a><h4 class="code-header">pub fn <a href="#method.empty" class="fn">empty</a>() -&gt; Self</h4></section></summary><div class="docblock"><p>Constructs a <a href="struct.Builder.html"><code>Builder</code></a> instance configured with no allowed tags.</p>
<h5 id="examples-50"><a class="doc-anchor" href="#examples-50">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::{Builder, Url, UrlRelative};

<span class="kw">let </span>input = <span class="string">"&lt;!-- comments will be stripped --&gt;This is an &lt;a href=.&gt;Ammonia&lt;/a&gt; example using &lt;a href=struct.Builder.html#method.new onclick=xss&gt;the &lt;code onmouseover=xss&gt;empty()&lt;/code&gt; function&lt;/a&gt;."</span>;
<span class="kw">let </span>output = <span class="string">"This is an Ammonia example using the empty() function."</span>;

<span class="kw">let </span>result = Builder::empty() <span class="comment">// &lt;--
    </span>.url_relative(UrlRelative::RewriteWithBase(Url::parse(<span class="string">"https://docs.rs/ammonia/1.0/ammonia/"</span>)<span class="question-mark">?</span>))
    .clean(input)
    .to_string();
<span class="macro">assert_eq!</span>(result, output);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clean" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1760-1764">Source</a><h4 class="code-header">pub fn <a href="#method.clean" class="fn">clean</a>(&amp;self, src: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.str.html">str</a>) -&gt; <a class="struct" href="struct.Document.html" title="struct ammonia::Document">Document</a></h4></section></summary><div class="docblock"><p>Sanitizes an HTML fragment in a string according to the configured options.</p>
<h5 id="examples-51"><a class="doc-anchor" href="#examples-51">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::{Builder, Url, UrlRelative};

<span class="kw">let </span>input = <span class="string">"&lt;!-- comments will be stripped --&gt;This is an &lt;a href=.&gt;Ammonia&lt;/a&gt; example using &lt;a href=struct.Builder.html#method.new onclick=xss&gt;the &lt;code onmouseover=xss&gt;new()&lt;/code&gt; function&lt;/a&gt;."</span>;
<span class="kw">let </span>output = <span class="string">"This is an &lt;a href=\"https://docs.rs/ammonia/1.0/ammonia/\" rel=\"noopener noreferrer\"&gt;Ammonia&lt;/a&gt; example using &lt;a href=\"https://docs.rs/ammonia/1.0/ammonia/struct.Builder.html#method.new\" rel=\"noopener noreferrer\"&gt;the &lt;code&gt;new()&lt;/code&gt; function&lt;/a&gt;."</span>;

<span class="kw">let </span>result = Builder::new()
    .url_relative(UrlRelative::RewriteWithBase(Url::parse(<span class="string">"https://docs.rs/ammonia/1.0/ammonia/"</span>)<span class="question-mark">?</span>))
    .clean(input)
    .to_string(); <span class="comment">// &lt;--
</span><span class="macro">assert_eq!</span>(result, output);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clean_from_reader" class="method"><a class="src rightside" href="../src/ammonia/lib.rs.html#1787-1794">Source</a><h4 class="code-header">pub fn <a href="#method.clean_from_reader" class="fn">clean_from_reader</a>&lt;R&gt;(&amp;self, src: R) -&gt; <a class="type" href="https://doc.rust-lang.org/1.90.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="struct.Document.html" title="struct ammonia::Document">Document</a>&gt;<div class="where">where
    R: <a class="trait" href="https://doc.rust-lang.org/1.90.0/std/io/trait.Read.html" title="trait std::io::Read">Read</a>,</div></h4></section></summary><div class="docblock"><p>Sanitizes an HTML fragment from a reader according to the configured options.</p>
<p>The input should be in UTF-8 encoding, otherwise the decoding is lossy, just
like when using <a href="https://doc.rust-lang.org/std/string/struct.String.html#method.from_utf8_lossy"><code>String::from_utf8_lossy</code></a>.</p>
<p>To avoid consuming the reader, a mutable reference can be passed to this method.</p>
<h5 id="examples-52"><a class="doc-anchor" href="#examples-52">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ammonia::Builder;

<span class="kw">let </span>a = Builder::new()
    .clean_from_reader(<span class="kw-2">&amp;</span><span class="string">b"&lt;!-- no --&gt;"</span>[..])<span class="question-mark">? </span><span class="comment">// notice the `b`
    </span>.to_string();
<span class="macro">assert_eq!</span>(a, <span class="string">""</span>);</code></pre></div>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-Builder%3C'a%3E" class="impl"><a class="src rightside" href="../src/ammonia/lib.rs.html#356">Source</a><a href="#impl-Debug-for-Builder%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../src/ammonia/lib.rs.html#356">Source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.90.0/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.90.0/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.90.0/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.90.0/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Default-for-Builder%3C'a%3E" class="impl"><a class="src rightside" href="../src/ammonia/lib.rs.html#375-496">Source</a><a href="#impl-Default-for-Builder%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.default" class="method trait-impl"><a class="src rightside" href="../src/ammonia/lib.rs.html#376-495">Source</a><a href="#method.default" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.90.0/core/default/trait.Default.html#tymethod.default" class="fn">default</a>() -&gt; Self</h4></section></summary><div class='docblock'>Returns the “default value” for a type. <a href="https://doc.rust-lang.org/1.90.0/core/default/trait.Default.html#tymethod.default">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-Builder%3C'a%3E" class="impl"><a href="#impl-Freeze-for-Builder%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</h3></section><section id="impl-RefUnwindSafe-for-Builder%3C'a%3E" class="impl"><a href="#impl-RefUnwindSafe-for-Builder%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; !<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</h3></section><section id="impl-Send-for-Builder%3C'a%3E" class="impl"><a href="#impl-Send-for-Builder%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</h3></section><section id="impl-Sync-for-Builder%3C'a%3E" class="impl"><a href="#impl-Sync-for-Builder%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</h3></section><section id="impl-Unpin-for-Builder%3C'a%3E" class="impl"><a href="#impl-Unpin-for-Builder%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</h3></section><section id="impl-UnwindSafe-for-Builder%3C'a%3E" class="impl"><a href="#impl-UnwindSafe-for-Builder%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; !<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/any.rs.html#138">Source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/any.rs.html#139">Source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.90.0/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.90.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/borrow.rs.html#209">Source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/borrow.rs.html#211">Source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/borrow.rs.html#217">Source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.90.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/borrow.rs.html#218">Source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.90.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#791">Source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#794">Source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.90.0/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#773-775">Source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#783">Source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.90.0/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.90.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#833-835">Source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#837">Source</a><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#840">Source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#817-819">Source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#821">Source</a><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.90.0/src/core/convert/mod.rs.html#824">Source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.90.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><section id="impl-ErasedDestructor-for-T" class="impl"><a class="src rightside" href="../src/yoke/erased.rs.html#22">Source</a><a href="#impl-ErasedDestructor-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../yoke/erased/trait.ErasedDestructor.html" title="trait yoke::erased::ErasedDestructor">ErasedDestructor</a> for T<div class="where">where
    T: 'static,</div></h3></section><section id="impl-MaybeSendSync-for-T" class="impl"><a class="src rightside" href="../src/icu_provider/any.rs.html#32">Source</a><a href="#impl-MaybeSendSync-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../icu_provider/any/trait.MaybeSendSync.html" title="trait icu_provider::any::MaybeSendSync">MaybeSendSync</a> for T</h3></section></div></section></div></main></body></html>