---
source: compiler/plc_driver/src/tests/header_generator.rs
expression: json
---
{
  "parsed_project": {
    "units": [
      {
        "global_vars": [],
        "var_config": [],
        "pous": [],
        "implementations": [],
        "interfaces": [],
        "user_types": [
          {
            "data_type": {
              "EnumType": {
                "name": "ComplexEnumType",
                "numeric_type": "DINT",
                "elements": {
                  "stmt": {
                    "ExpressionList": [
                      {
                        "stmt": {
                          "Assignment": {
                            "left": {
                              "stmt": {
                                "ReferenceExpr": {
                                  "access": {
                                    "Member": {
                                      "stmt": {
                                        "Identifier": "orange"
                                      },
                                      "id": 1,
                                      "location": {
                                        "span": {
                                          "Range": {
                                            "start": {
                                              "line": 2,
                                              "column": 12,
                                              "offset": 42
                                            },
                                            "end": {
                                              "line": 2,
                                              "column": 18,
                                              "offset": 48
                                            }
                                          }
                                        },
                                        "file": {
                                          "File": "structs.pli"
                                        }
                                      },
                                      "metadata": null
                                    }
                                  },
                                  "base": null
                                }
                              },
                              "id": 2,
                              "location": {
                                "span": {
                                  "Range": {
                                    "start": {
                                      "line": 2,
                                      "column": 12,
                                      "offset": 42
                                    },
                                    "end": {
                                      "line": 2,
                                      "column": 18,
                                      "offset": 48
                                    }
                                  }
                                },
                                "file": {
                                  "File": "structs.pli"
                                }
                              },
                              "metadata": null
                            },
                            "right": {
                              "stmt": {
                                "Literal": {
                                  "Integer": 10
                                }
                              },
                              "id": 3,
                              "location": {
                                "span": {
                                  "Range": {
                                    "start": {
                                      "line": 2,
                                      "column": 22,
                                      "offset": 52
                                    },
                                    "end": {
                                      "line": 2,
                                      "column": 24,
                                      "offset": 54
                                    }
                                  }
                                },
                                "file": {
                                  "File": "structs.pli"
                                }
                              },
                              "metadata": null
                            }
                          }
                        },
                        "id": 4,
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 2,
                                "column": 12,
                                "offset": 42
                              },
                              "end": {
                                "line": 2,
                                "column": 24,
                                "offset": 54
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        },
                        "metadata": null
                      },
                      {
                        "stmt": {
                          "Assignment": {
                            "left": {
                              "stmt": {
                                "ReferenceExpr": {
                                  "access": {
                                    "Member": {
                                      "stmt": {
                                        "Identifier": "yellow"
                                      },
                                      "id": 5,
                                      "location": {
                                        "span": {
                                          "Range": {
                                            "start": {
                                              "line": 3,
                                              "column": 12,
                                              "offset": 68
                                            },
                                            "end": {
                                              "line": 3,
                                              "column": 18,
                                              "offset": 74
                                            }
                                          }
                                        },
                                        "file": {
                                          "File": "structs.pli"
                                        }
                                      },
                                      "metadata": null
                                    }
                                  },
                                  "base": null
                                }
                              },
                              "id": 6,
                              "location": {
                                "span": {
                                  "Range": {
                                    "start": {
                                      "line": 3,
                                      "column": 12,
                                      "offset": 68
                                    },
                                    "end": {
                                      "line": 3,
                                      "column": 18,
                                      "offset": 74
                                    }
                                  }
                                },
                                "file": {
                                  "File": "structs.pli"
                                }
                              },
                              "metadata": null
                            },
                            "right": {
                              "stmt": {
                                "Literal": {
                                  "Integer": 20
                                }
                              },
                              "id": 7,
                              "location": {
                                "span": {
                                  "Range": {
                                    "start": {
                                      "line": 3,
                                      "column": 22,
                                      "offset": 78
                                    },
                                    "end": {
                                      "line": 3,
                                      "column": 24,
                                      "offset": 80
                                    }
                                  }
                                },
                                "file": {
                                  "File": "structs.pli"
                                }
                              },
                              "metadata": null
                            }
                          }
                        },
                        "id": 8,
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 3,
                                "column": 12,
                                "offset": 68
                              },
                              "end": {
                                "line": 3,
                                "column": 24,
                                "offset": 80
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        },
                        "metadata": null
                      },
                      {
                        "stmt": {
                          "Assignment": {
                            "left": {
                              "stmt": {
                                "ReferenceExpr": {
                                  "access": {
                                    "Member": {
                                      "stmt": {
                                        "Identifier": "purple"
                                      },
                                      "id": 9,
                                      "location": {
                                        "span": {
                                          "Range": {
                                            "start": {
                                              "line": 4,
                                              "column": 12,
                                              "offset": 94
                                            },
                                            "end": {
                                              "line": 4,
                                              "column": 18,
                                              "offset": 100
                                            }
                                          }
                                        },
                                        "file": {
                                          "File": "structs.pli"
                                        }
                                      },
                                      "metadata": null
                                    }
                                  },
                                  "base": null
                                }
                              },
                              "id": 10,
                              "location": {
                                "span": {
                                  "Range": {
                                    "start": {
                                      "line": 4,
                                      "column": 12,
                                      "offset": 94
                                    },
                                    "end": {
                                      "line": 4,
                                      "column": 18,
                                      "offset": 100
                                    }
                                  }
                                },
                                "file": {
                                  "File": "structs.pli"
                                }
                              },
                              "metadata": null
                            },
                            "right": {
                              "stmt": {
                                "Literal": {
                                  "Integer": 30
                                }
                              },
                              "id": 11,
                              "location": {
                                "span": {
                                  "Range": {
                                    "start": {
                                      "line": 4,
                                      "column": 22,
                                      "offset": 104
                                    },
                                    "end": {
                                      "line": 4,
                                      "column": 24,
                                      "offset": 106
                                    }
                                  }
                                },
                                "file": {
                                  "File": "structs.pli"
                                }
                              },
                              "metadata": null
                            }
                          }
                        },
                        "id": 12,
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 4,
                                "column": 12,
                                "offset": 94
                              },
                              "end": {
                                "line": 4,
                                "column": 24,
                                "offset": 106
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        },
                        "metadata": null
                      }
                    ]
                  },
                  "id": 13,
                  "location": {
                    "span": {
                      "Range": {
                        "start": {
                          "line": 2,
                          "column": 12,
                          "offset": 42
                        },
                        "end": {
                          "line": 4,
                          "column": 24,
                          "offset": 106
                        }
                      }
                    },
                    "file": {
                      "File": "structs.pli"
                    }
                  },
                  "metadata": null
                }
              }
            },
            "initializer": null,
            "location": {
              "span": {
                "Range": {
                  "start": {
                    "line": 1,
                    "column": 9,
                    "offset": 10
                  },
                  "end": {
                    "line": 1,
                    "column": 24,
                    "offset": 25
                  }
                }
              },
              "file": {
                "File": "structs.pli"
              }
            },
            "scope": null
          },
          {
            "data_type": {
              "StructType": {
                "name": "StructWithPrimitiveTypes",
                "variables": [
                  {
                    "name": "Field1",
                    "data_type_declaration": {
                      "Reference": {
                        "referenced_type": "BYTE",
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 10,
                                "column": 21,
                                "offset": 203
                              },
                              "end": {
                                "line": 10,
                                "column": 25,
                                "offset": 207
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        }
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 10,
                            "column": 12,
                            "offset": 194
                          },
                          "end": {
                            "line": 10,
                            "column": 18,
                            "offset": 200
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  },
                  {
                    "name": "Field2",
                    "data_type_declaration": {
                      "Reference": {
                        "referenced_type": "INT",
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 11,
                                "column": 21,
                                "offset": 230
                              },
                              "end": {
                                "line": 11,
                                "column": 24,
                                "offset": 233
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        }
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 11,
                            "column": 12,
                            "offset": 221
                          },
                          "end": {
                            "line": 11,
                            "column": 18,
                            "offset": 227
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  },
                  {
                    "name": "Field3",
                    "data_type_declaration": {
                      "Reference": {
                        "referenced_type": "DINT",
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 12,
                                "column": 21,
                                "offset": 256
                              },
                              "end": {
                                "line": 12,
                                "column": 25,
                                "offset": 260
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        }
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 12,
                            "column": 12,
                            "offset": 247
                          },
                          "end": {
                            "line": 12,
                            "column": 18,
                            "offset": 253
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  }
                ]
              }
            },
            "initializer": null,
            "location": {
              "span": {
                "Range": {
                  "start": {
                    "line": 8,
                    "column": 9,
                    "offset": 141
                  },
                  "end": {
                    "line": 8,
                    "column": 33,
                    "offset": 165
                  }
                }
              },
              "file": {
                "File": "structs.pli"
              }
            },
            "scope": null
          },
          {
            "data_type": {
              "StructType": {
                "name": "StructWithComplexTypes",
                "variables": [
                  {
                    "name": "byteField",
                    "data_type_declaration": {
                      "Reference": {
                        "referenced_type": "BYTE",
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 18,
                                "column": 24,
                                "offset": 367
                              },
                              "end": {
                                "line": 18,
                                "column": 28,
                                "offset": 371
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        }
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 18,
                            "column": 12,
                            "offset": 355
                          },
                          "end": {
                            "line": 18,
                            "column": 21,
                            "offset": 364
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  },
                  {
                    "name": "intField",
                    "data_type_declaration": {
                      "Reference": {
                        "referenced_type": "INT",
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 19,
                                "column": 23,
                                "offset": 396
                              },
                              "end": {
                                "line": 19,
                                "column": 26,
                                "offset": 399
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        }
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 19,
                            "column": 12,
                            "offset": 385
                          },
                          "end": {
                            "line": 19,
                            "column": 20,
                            "offset": 393
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  },
                  {
                    "name": "dIntField",
                    "data_type_declaration": {
                      "Reference": {
                        "referenced_type": "DINT",
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 20,
                                "column": 24,
                                "offset": 425
                              },
                              "end": {
                                "line": 20,
                                "column": 28,
                                "offset": 429
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        }
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 20,
                            "column": 12,
                            "offset": 413
                          },
                          "end": {
                            "line": 20,
                            "column": 21,
                            "offset": 422
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  },
                  {
                    "name": "stringField",
                    "data_type_declaration": {
                      "Definition": {
                        "data_type": {
                          "StringType": {
                            "name": null,
                            "is_wide": false,
                            "size": {
                              "stmt": {
                                "Literal": {
                                  "Integer": 255
                                }
                              },
                              "id": 14,
                              "location": {
                                "span": {
                                  "Range": {
                                    "start": {
                                      "line": 21,
                                      "column": 33,
                                      "offset": 464
                                    },
                                    "end": {
                                      "line": 21,
                                      "column": 36,
                                      "offset": 467
                                    }
                                  }
                                },
                                "file": {
                                  "File": "structs.pli"
                                }
                              },
                              "metadata": null
                            }
                          }
                        },
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 21,
                                "column": 26,
                                "offset": 457
                              },
                              "end": {
                                "line": 21,
                                "column": 37,
                                "offset": 468
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        },
                        "scope": null
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 21,
                            "column": 12,
                            "offset": 443
                          },
                          "end": {
                            "line": 21,
                            "column": 23,
                            "offset": 454
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  },
                  {
                    "name": "wStringField",
                    "data_type_declaration": {
                      "Definition": {
                        "data_type": {
                          "StringType": {
                            "name": null,
                            "is_wide": true,
                            "size": {
                              "stmt": {
                                "Literal": {
                                  "Integer": 6000
                                }
                              },
                              "id": 15,
                              "location": {
                                "span": {
                                  "Range": {
                                    "start": {
                                      "line": 22,
                                      "column": 35,
                                      "offset": 505
                                    },
                                    "end": {
                                      "line": 22,
                                      "column": 39,
                                      "offset": 509
                                    }
                                  }
                                },
                                "file": {
                                  "File": "structs.pli"
                                }
                              },
                              "metadata": null
                            }
                          }
                        },
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 22,
                                "column": 27,
                                "offset": 497
                              },
                              "end": {
                                "line": 22,
                                "column": 40,
                                "offset": 510
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        },
                        "scope": null
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 22,
                            "column": 12,
                            "offset": 482
                          },
                          "end": {
                            "line": 22,
                            "column": 24,
                            "offset": 494
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  },
                  {
                    "name": "complexEnumTypeField",
                    "data_type_declaration": {
                      "Reference": {
                        "referenced_type": "ComplexEnumType",
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 23,
                                "column": 35,
                                "offset": 547
                              },
                              "end": {
                                "line": 23,
                                "column": 50,
                                "offset": 562
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        }
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 23,
                            "column": 12,
                            "offset": 524
                          },
                          "end": {
                            "line": 23,
                            "column": 32,
                            "offset": 544
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  },
                  {
                    "name": "intArrayField",
                    "data_type_declaration": {
                      "Definition": {
                        "data_type": {
                          "ArrayType": {
                            "name": null,
                            "bounds": {
                              "stmt": {
                                "RangeStatement": {
                                  "start": {
                                    "stmt": {
                                      "Literal": {
                                        "Integer": 0
                                      }
                                    },
                                    "id": 16,
                                    "location": {
                                      "span": {
                                        "Range": {
                                          "start": {
                                            "line": 24,
                                            "column": 33,
                                            "offset": 597
                                          },
                                          "end": {
                                            "line": 24,
                                            "column": 34,
                                            "offset": 598
                                          }
                                        }
                                      },
                                      "file": {
                                        "File": "structs.pli"
                                      }
                                    },
                                    "metadata": null
                                  },
                                  "end": {
                                    "stmt": {
                                      "Literal": {
                                        "Integer": 9
                                      }
                                    },
                                    "id": 17,
                                    "location": {
                                      "span": {
                                        "Range": {
                                          "start": {
                                            "line": 24,
                                            "column": 36,
                                            "offset": 600
                                          },
                                          "end": {
                                            "line": 24,
                                            "column": 37,
                                            "offset": 601
                                          }
                                        }
                                      },
                                      "file": {
                                        "File": "structs.pli"
                                      }
                                    },
                                    "metadata": null
                                  }
                                }
                              },
                              "id": 18,
                              "location": {
                                "span": {
                                  "Range": {
                                    "start": {
                                      "line": 24,
                                      "column": 33,
                                      "offset": 597
                                    },
                                    "end": {
                                      "line": 24,
                                      "column": 37,
                                      "offset": 601
                                    }
                                  }
                                },
                                "file": {
                                  "File": "structs.pli"
                                }
                              },
                              "metadata": null
                            },
                            "referenced_type": {
                              "Reference": {
                                "referenced_type": "INT",
                                "location": {
                                  "span": {
                                    "Range": {
                                      "start": {
                                        "line": 24,
                                        "column": 42,
                                        "offset": 606
                                      },
                                      "end": {
                                        "line": 24,
                                        "column": 45,
                                        "offset": 609
                                      }
                                    }
                                  },
                                  "file": {
                                    "File": "structs.pli"
                                  }
                                }
                              }
                            },
                            "is_variable_length": false
                          }
                        },
                        "location": {
                          "span": {
                            "Range": {
                              "start": {
                                "line": 24,
                                "column": 27,
                                "offset": 591
                              },
                              "end": {
                                "line": 24,
                                "column": 45,
                                "offset": 609
                              }
                            }
                          },
                          "file": {
                            "File": "structs.pli"
                          }
                        },
                        "scope": null
                      }
                    },
                    "initializer": null,
                    "address": null,
                    "location": {
                      "span": {
                        "Range": {
                          "start": {
                            "line": 24,
                            "column": 12,
                            "offset": 576
                          },
                          "end": {
                            "line": 24,
                            "column": 25,
                            "offset": 589
                          }
                        }
                      },
                      "file": {
                        "File": "structs.pli"
                      }
                    }
                  }
                ]
              }
            },
            "initializer": null,
            "location": {
              "span": {
                "Range": {
                  "start": {
                    "line": 16,
                    "column": 9,
                    "offset": 304
                  },
                  "end": {
                    "line": 16,
                    "column": 31,
                    "offset": 326
                  }
                }
              },
              "file": {
                "File": "structs.pli"
              }
            },
            "scope": null
          }
        ],
        "file": {
          "File": "structs.pli"
        }
      }
    ]
  },
  "context": {
    "sources": {
      "structs.pli": {
        "source": "\n    TYPE ComplexEnumType : (\n            orange := 10,\n            yellow := 20,\n            purple := 30\n        );\n    END_TYPE\n\n    TYPE StructWithPrimitiveTypes:\n        STRUCT\n            Field1 : BYTE;\n            Field2 : INT;\n            Field3 : DINT;\n        END_STRUCT\n    END_TYPE\n\n    TYPE StructWithComplexTypes:\n        STRUCT\n            byteField : BYTE;\n            intField : INT;\n            dIntField : DINT;\n            stringField : STRING[255];\n            wStringField : WSTRING[6000];\n            complexEnumTypeField : ComplexEnumType;\n            intArrayField: ARRAY[0..9] OF INT;\n        END_STRUCT\n    END_TYPE\n    ",
        "path": "structs.pli"
      }
    },
    "provider": {
      "current_id": 19
    },
    "error_fmt": "Rich"
  }
}
